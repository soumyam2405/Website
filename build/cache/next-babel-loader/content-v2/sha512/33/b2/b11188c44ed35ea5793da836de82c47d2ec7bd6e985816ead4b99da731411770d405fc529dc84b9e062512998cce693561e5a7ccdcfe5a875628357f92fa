{"ast":null,"code":"import { types } from \"mobx-state-tree\";\nexport const nullableDate = types.custom({\n  name: \"NullableDate\",\n\n  fromSnapshot(value) {\n    return new Date(value !== null && value !== void 0 ? value : Number.NaN);\n  },\n\n  toSnapshot(value) {\n    const time = value.getTime();\n    return Number.isNaN(time) ? null : time;\n  },\n\n  isTargetType(value) {\n    return value instanceof Date;\n  },\n\n  getValidationMessage(value) {\n    if (value instanceof Date) return \"\";\n    if (typeof value === \"number\") return \"\";\n    if (value === null) return \"\";\n    return \"Value is not a Date, a unix milliseconds timestamp, or null\";\n  }\n\n});","map":{"version":3,"sources":["F:/DiscordHookSite/common/state/nullableDate.ts"],"names":["types","nullableDate","custom","name","fromSnapshot","value","Date","Number","NaN","toSnapshot","time","getTime","isNaN","isTargetType","getValidationMessage"],"mappings":"AAAA,SAASA,KAAT,QAAsB,iBAAtB;AAEA,OAAO,MAAMC,YAAY,GAAGD,KAAK,CAACE,MAAN,CAAyC;AACnEC,EAAAA,IAAI,EAAE,cAD6D;;AAEnEC,EAAAA,YAAY,CAACC,KAAD,EAAQ;AAClB,WAAO,IAAIC,IAAJ,CAASD,KAAT,aAASA,KAAT,cAASA,KAAT,GAAkBE,MAAM,CAACC,GAAzB,CAAP;AACD,GAJkE;;AAKnEC,EAAAA,UAAU,CAACJ,KAAD,EAAQ;AAChB,UAAMK,IAAI,GAAGL,KAAK,CAACM,OAAN,EAAb;AACA,WAAOJ,MAAM,CAACK,KAAP,CAAaF,IAAb,IAAqB,IAArB,GAA4BA,IAAnC;AACD,GARkE;;AASnEG,EAAAA,YAAY,CAACR,KAAD,EAAQ;AAClB,WAAOA,KAAK,YAAYC,IAAxB;AACD,GAXkE;;AAYnEQ,EAAAA,oBAAoB,CAACT,KAAD,EAAiB;AACnC,QAAIA,KAAK,YAAYC,IAArB,EAA2B,OAAO,EAAP;AAC3B,QAAI,OAAOD,KAAP,KAAiB,QAArB,EAA+B,OAAO,EAAP;AAC/B,QAAIA,KAAK,KAAK,IAAd,EAAoB,OAAO,EAAP;AAEpB,WAAO,6DAAP;AACD;;AAlBkE,CAAzC,CAArB","sourcesContent":["import { types } from \"mobx-state-tree\"\r\n\r\nexport const nullableDate = types.custom<Date | number | null, Date>({\r\n  name: \"NullableDate\",\r\n  fromSnapshot(value) {\r\n    return new Date(value ?? Number.NaN)\r\n  },\r\n  toSnapshot(value) {\r\n    const time = value.getTime()\r\n    return Number.isNaN(time) ? null : time\r\n  },\r\n  isTargetType(value) {\r\n    return value instanceof Date\r\n  },\r\n  getValidationMessage(value: unknown) {\r\n    if (value instanceof Date) return \"\"\r\n    if (typeof value === \"number\") return \"\"\r\n    if (value === null) return \"\"\r\n\r\n    return \"Value is not a Date, a unix milliseconds timestamp, or null\"\r\n  },\r\n})\r\n"]},"metadata":{},"sourceType":"module"}
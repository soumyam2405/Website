{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"F:\\\\DiscordHookSite\\\\common\\\\input\\\\file\\\\PasteFileButton.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { SecondaryButton } from \"../button/SecondaryButton\";\nconst Button = styled(SecondaryButton).withConfig({\n  displayName: \"PasteFileButton__Button\",\n  componentId: \"sc-6sd4v1-0\"\n})([\"input:focus + &&{background:\", \";border-color:\", \";}\"], ({\n  theme\n}) => theme.background.tertiary, ({\n  theme\n}) => theme.background.tertiary);\n_c = Button;\nexport function PasteFileButton(props) {\n  _s();\n\n  const {\n    className,\n    onChange: handleChange,\n    disabled = false\n  } = props;\n  const {\n    0: active,\n    1: setActive\n  } = useState(false);\n  const pasteInputRef = useRef(null);\n\n  const handlePaste = event => {\n    var _pasteInputRef$curren;\n\n    handleChange(Array.from(event.clipboardData.files));\n    (_pasteInputRef$curren = pasteInputRef.current) === null || _pasteInputRef$curren === void 0 ? void 0 : _pasteInputRef$curren.blur();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      ref: pasteInputRef,\n      tabIndex: -1,\n      placeholder: \"Paste your clipboard\",\n      disabled: disabled,\n      style: {\n        position: \"absolute\",\n        opacity: 0,\n        pointerEvents: \"none\"\n      },\n      onFocus: () => setActive(true),\n      onBlur: () => setActive(false),\n      onPaste: handlePaste\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      className: className,\n      disabled: disabled,\n      onClick: () => {\n        var _pasteInputRef$curren2;\n\n        (_pasteInputRef$curren2 = pasteInputRef.current) === null || _pasteInputRef$curren2 === void 0 ? void 0 : _pasteInputRef$curren2.focus();\n      },\n      children: active ? /mac/i.test(navigator.platform) ? \"Press \\u2318V\" : \"Press Ctrl+V\" : \"Clipboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(PasteFileButton, \"Pp7WX8gvizwrd7KjgUExbMzt8DU=\");\n\n_c2 = PasteFileButton;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Button\");\n$RefreshReg$(_c2, \"PasteFileButton\");","map":{"version":3,"sources":["F:/DiscordHookSite/common/input/file/PasteFileButton.tsx"],"names":["React","useRef","useState","styled","SecondaryButton","Button","theme","background","tertiary","PasteFileButton","props","className","onChange","handleChange","disabled","active","setActive","pasteInputRef","handlePaste","event","Array","from","clipboardData","files","current","blur","position","opacity","pointerEvents","focus","test","navigator","platform"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgCC,MAAhC,EAAwCC,QAAxC,QAAwD,OAAxD;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,eAAT,QAAgC,2BAAhC;AAEA,MAAMC,MAAM,GAAGF,MAAM,CAACC,eAAD,CAAT;AAAA;AAAA;AAAA,6DAEM,CAAC;AAAEE,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACC,UAAN,CAAiBC,QAFtC,EAGQ,CAAC;AAAEF,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACC,UAAN,CAAiBC,QAHxC,CAAZ;KAAMH,M;AAaN,OAAO,SAASI,eAAT,CAAyBC,KAAzB,EAAsD;AAAA;;AAC3D,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA,QAAQ,EAAEC,YAAvB;AAAqCC,IAAAA,QAAQ,GAAG;AAAhD,MAA0DJ,KAAhE;AAEA,QAAM;AAAA,OAACK,MAAD;AAAA,OAASC;AAAT,MAAsBd,QAAQ,CAAC,KAAD,CAApC;AAEA,QAAMe,aAAa,GAAGhB,MAAM,CAAmB,IAAnB,CAA5B;;AAEA,QAAMiB,WAAW,GAAIC,KAAD,IAA6C;AAAA;;AAC/DN,IAAAA,YAAY,CAACO,KAAK,CAACC,IAAN,CAAWF,KAAK,CAACG,aAAN,CAAoBC,KAA/B,CAAD,CAAZ;AACA,6BAAAN,aAAa,CAACO,OAAd,gFAAuBC,IAAvB;AACD,GAHD;;AAKA,sBACE;AAAA,4BACE;AACE,MAAA,GAAG,EAAER,aADP;AAEE,MAAA,QAAQ,EAAE,CAAC,CAFb;AAGE,MAAA,WAAW,EAAC,sBAHd;AAIE,MAAA,QAAQ,EAAEH,QAJZ;AAKE,MAAA,KAAK,EAAE;AACLY,QAAAA,QAAQ,EAAE,UADL;AAELC,QAAAA,OAAO,EAAE,CAFJ;AAGLC,QAAAA,aAAa,EAAE;AAHV,OALT;AAUE,MAAA,OAAO,EAAE,MAAMZ,SAAS,CAAC,IAAD,CAV1B;AAWE,MAAA,MAAM,EAAE,MAAMA,SAAS,CAAC,KAAD,CAXzB;AAYE,MAAA,OAAO,EAAEE;AAZX;AAAA;AAAA;AAAA;AAAA,YADF,eAeE,QAAC,MAAD;AACE,MAAA,SAAS,EAAEP,SADb;AAEE,MAAA,QAAQ,EAAEG,QAFZ;AAGE,MAAA,OAAO,EAAE,MAAM;AAAA;;AACb,kCAAAG,aAAa,CAACO,OAAd,kFAAuBK,KAAvB;AACD,OALH;AAAA,gBAOGd,MAAM,GACH,OAAOe,IAAP,CAAYC,SAAS,CAACC,QAAtB,IACE,eADF,GAEE,cAHC,GAIH;AAXN;AAAA;AAAA;AAAA;AAAA,YAfF;AAAA,kBADF;AA+BD;;GA3CevB,e;;MAAAA,e","sourcesContent":["import React, { ClipboardEvent, useRef, useState } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport { SecondaryButton } from \"../button/SecondaryButton\"\r\n\r\nconst Button = styled(SecondaryButton)`\r\n  input:focus + && {\r\n    background: ${({ theme }) => theme.background.tertiary};\r\n    border-color: ${({ theme }) => theme.background.tertiary};\r\n  }\r\n`\r\n\r\nexport type PasteFileButtonProps = {\r\n  className?: string\r\n  onChange: (files: File[]) => void\r\n  disabled?: boolean\r\n}\r\n\r\nexport function PasteFileButton(props: PasteFileButtonProps) {\r\n  const { className, onChange: handleChange, disabled = false } = props\r\n\r\n  const [active, setActive] = useState(false)\r\n\r\n  const pasteInputRef = useRef<HTMLInputElement>(null)\r\n\r\n  const handlePaste = (event: ClipboardEvent<HTMLInputElement>) => {\r\n    handleChange(Array.from(event.clipboardData.files))\r\n    pasteInputRef.current?.blur()\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <input\r\n        ref={pasteInputRef}\r\n        tabIndex={-1}\r\n        placeholder=\"Paste your clipboard\"\r\n        disabled={disabled}\r\n        style={{\r\n          position: \"absolute\",\r\n          opacity: 0,\r\n          pointerEvents: \"none\",\r\n        }}\r\n        onFocus={() => setActive(true)}\r\n        onBlur={() => setActive(false)}\r\n        onPaste={handlePaste}\r\n      />\r\n      <Button\r\n        className={className}\r\n        disabled={disabled}\r\n        onClick={() => {\r\n          pasteInputRef.current?.focus()\r\n        }}\r\n      >\r\n        {active\r\n          ? /mac/i.test(navigator.platform)\r\n            ? \"Press \\u2318V\"\r\n            : \"Press Ctrl+V\"\r\n          : \"Clipboard\"}\r\n      </Button>\r\n    </>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"F:\\\\DiscordHookSite\\\\modules\\\\message\\\\preview\\\\MessagePreview.tsx\",\n    _s = $RefreshSig$();\n\nimport { Observer, useObserver } from \"mobx-react-lite\";\nimport dynamic from \"next/dynamic\";\nimport { rem } from \"polished\";\nimport React from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { SCREEN_SMALL } from \"../../../common/layout/breakpoints\";\nimport { getTextDirection } from \"../../markdown/helpers/getTextDirection\";\nimport { Markdown } from \"../../markdown/Markdown\";\nimport { MarkdownContainer } from \"../../markdown/styles/MarkdownContainer\";\nimport { MessageHeader } from \"./MessageHeader\";\nimport { RichEmbed } from \"./RichEmbed\";\nconst Attachment = dynamic(_c = async () => import(\"./attachment/Attachment\").then(module => module.Attachment), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak(\"./attachment/Attachment\")],\n    modules: [\"./attachment/Attachment\"]\n  }\n});\n_c2 = Attachment;\nconst Container = styled.div.withConfig({\n  displayName: \"MessagePreview__Container\",\n  componentId: \"kn3fae-0\"\n})([\"margin-top:\", \";\", \";\", \";\"], rem(16), ({\n  theme\n}) => theme.appearance.display === \"cozy\" && css([\"padding:\", \" 16px \", \" \", \";min-height:\", \";\", \";\", \"{padding-left:16px;}\"], rem(2), rem(2), rem(72), rem(44), ({\n  theme\n}) => theme.appearance.fontSize > 16 && css([\"padding-left:72px;\"]), SCREEN_SMALL), ({\n  theme\n}) => theme.appearance.display === \"compact\" && css([\"padding:\", \" \", \" \", \" 80px;min-height:\", \";text-indent:calc(\", \" - 80px);& > \", \"{text-indent:0;display:inline;}\"], rem(2), rem(16), rem(2), rem(22), rem(16), MarkdownContainer));\n_c3 = Container;\nconst Content = styled(Markdown).withConfig({\n  displayName: \"MessagePreview__Content\",\n  componentId: \"kn3fae-1\"\n})([\"\", \"\"], ({\n  theme,\n  direction\n}) => theme.appearance.display === \"cozy\" && direction === \"rtl\" && css([\"& > \", \"{text-indent:0;text-align:left;unicode-bidi:plaintext;}\"], MarkdownContainer));\n_c4 = Content;\nconst ExtrasContainer = styled.div.withConfig({\n  displayName: \"MessagePreview__ExtrasContainer\",\n  componentId: \"kn3fae-2\"\n})([\"display:grid;grid-auto-flow:row;row-gap:\", \";padding:\", \" 0;text-indent:0;& > *{justify-self:start;align-self:start;}\"], rem(4), rem(2));\n_c5 = ExtrasContainer;\nexport function MessagePreview(props) {\n  _s();\n\n  const {\n    message\n  } = props;\n  return useObserver(() => /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(MessageHeader, {\n      username: message.username,\n      avatarUrl: message.avatar,\n      timestamp: message.timestamp,\n      badge: message.badge\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), message.hasContent && /*#__PURE__*/_jsxDEV(Observer, {\n      children: () => /*#__PURE__*/_jsxDEV(Content, {\n        direction: getTextDirection(message.content),\n        content: message.content,\n        type: \"message-content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this), message.hasExtras && /*#__PURE__*/_jsxDEV(ExtrasContainer, {\n      children: [...message.files.map(file => /*#__PURE__*/_jsxDEV(Attachment, {\n        file: file\n      }, `Attachment ${JSON.stringify(file.name)}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }, this)), ...message.embeds.map(embed => /*#__PURE__*/_jsxDEV(RichEmbed, {\n        embed: embed\n      }, `Embed ${embed.id}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 15\n      }, this))]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this));\n}\n\n_s(MessagePreview, \"V6gQiDY4afZNDcSHjVFQDeiM1XA=\", false, function () {\n  return [useObserver];\n});\n\n_c6 = MessagePreview;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Attachment$dynamic\");\n$RefreshReg$(_c2, \"Attachment\");\n$RefreshReg$(_c3, \"Container\");\n$RefreshReg$(_c4, \"Content\");\n$RefreshReg$(_c5, \"ExtrasContainer\");\n$RefreshReg$(_c6, \"MessagePreview\");","map":{"version":3,"sources":["F:/DiscordHookSite/modules/message/preview/MessagePreview.tsx"],"names":["Observer","useObserver","dynamic","rem","React","styled","css","SCREEN_SMALL","getTextDirection","Markdown","MarkdownContainer","MessageHeader","RichEmbed","Attachment","then","module","Container","div","theme","appearance","display","fontSize","Content","direction","ExtrasContainer","MessagePreview","props","message","username","avatar","timestamp","badge","hasContent","content","hasExtras","files","map","file","JSON","stringify","name","embeds","embed","id"],"mappings":"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","sourcesContent":["import { Observer, useObserver } from \"mobx-react-lite\"\r\nimport dynamic from \"next/dynamic\"\r\nimport { rem } from \"polished\"\r\nimport React from \"react\"\r\nimport styled, { css } from \"styled-components\"\r\nimport { SCREEN_SMALL } from \"../../../common/layout/breakpoints\"\r\nimport { getTextDirection } from \"../../markdown/helpers/getTextDirection\"\r\nimport { Markdown } from \"../../markdown/Markdown\"\r\nimport { MarkdownContainer } from \"../../markdown/styles/MarkdownContainer\"\r\nimport type { MessageLike } from \"../state/models/MessageModel\"\r\nimport type { AttachmentProps } from \"./attachment/Attachment\"\r\nimport { MessageHeader } from \"./MessageHeader\"\r\nimport { RichEmbed } from \"./RichEmbed\"\r\n\r\nconst Attachment = dynamic<AttachmentProps>(async () =>\r\n  import(\"./attachment/Attachment\").then(module => module.Attachment),\r\n)\r\n\r\nconst Container = styled.div`\r\n  margin-top: ${rem(16)};\r\n\r\n  ${({ theme }) =>\r\n    theme.appearance.display === \"cozy\" &&\r\n    css`\r\n      padding: ${rem(2)} 16px ${rem(2)} ${rem(72)};\r\n\r\n      min-height: ${rem(44)};\r\n\r\n      ${({ theme }) =>\r\n        theme.appearance.fontSize > 16 &&\r\n        css`\r\n          padding-left: 72px;\r\n        `};\r\n\r\n      ${SCREEN_SMALL} {\r\n        padding-left: 16px;\r\n      }\r\n    `};\r\n\r\n  ${({ theme }) =>\r\n    theme.appearance.display === \"compact\" &&\r\n    css`\r\n      padding: ${rem(2)} ${rem(16)} ${rem(2)} 80px;\r\n\r\n      min-height: ${rem(22)};\r\n\r\n      text-indent: calc(${rem(16)} - 80px);\r\n\r\n      & > ${MarkdownContainer} {\r\n        text-indent: 0;\r\n        display: inline;\r\n      }\r\n    `};\r\n`\r\n\r\nconst Content = styled(Markdown)<{ direction: \"neutral\" | \"ltr\" | \"rtl\" }>`\r\n  ${({ theme, direction }) =>\r\n    theme.appearance.display === \"cozy\" &&\r\n    direction === \"rtl\" &&\r\n    css`\r\n      & > ${MarkdownContainer} {\r\n        text-indent: 0;\r\n        text-align: left;\r\n        unicode-bidi: plaintext;\r\n      }\r\n    `}\r\n`\r\n\r\nconst ExtrasContainer = styled.div`\r\n  display: grid;\r\n  grid-auto-flow: row;\r\n  row-gap: ${rem(4)};\r\n\r\n  padding: ${rem(2)} 0;\r\n\r\n  text-indent: 0;\r\n\r\n  & > * {\r\n    justify-self: start;\r\n    align-self: start;\r\n  }\r\n`\r\n\r\nexport type MessagePreviewProps = {\r\n  message: MessageLike\r\n}\r\n\r\nexport function MessagePreview(props: MessagePreviewProps) {\r\n  const { message } = props\r\n\r\n  return useObserver(() => (\r\n    <Container>\r\n      <MessageHeader\r\n        username={message.username}\r\n        avatarUrl={message.avatar}\r\n        timestamp={message.timestamp}\r\n        badge={message.badge}\r\n      />\r\n      {message.hasContent && (\r\n        <Observer>\r\n          {() => (\r\n            <Content\r\n              direction={getTextDirection(message.content)}\r\n              content={message.content}\r\n              type=\"message-content\"\r\n            />\r\n          )}\r\n        </Observer>\r\n      )}\r\n      {message.hasExtras && (\r\n        <ExtrasContainer>\r\n          {[\r\n            ...message.files.map(file => (\r\n              <Attachment\r\n                key={`Attachment ${JSON.stringify(file.name)}`}\r\n                file={file}\r\n              />\r\n            )),\r\n            ...message.embeds.map(embed => (\r\n              <RichEmbed key={`Embed ${embed.id}`} embed={embed} />\r\n            )),\r\n          ]}\r\n        </ExtrasContainer>\r\n      )}\r\n    </Container>\r\n  ))\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
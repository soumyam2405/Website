{"ast":null,"code":"export const DISCORD_API_BASE_URLS = [\"https://discord.com/api/v8\", \"https://ptb.discord.com/api/v8\", \"https://canary.discord.com/api/v8\"];\n\nconst getDiscordApiHost = async () => {\n  let firstError;\n\n  for (const url of DISCORD_API_BASE_URLS) {\n    try {\n      // eslint-disable-next-line no-await-in-loop\n      await fetch(`${url}/invites/discord-developers`);\n      return new URL(url).host;\n    } catch (error) {\n      firstError = error;\n    }\n  }\n\n  throw firstError;\n};\n\nexport const DISCORD_API_HOST_PROMISE = new Promise((resolve, reject) => {\n  getDiscordApiHost().then(resolve).catch(reject);\n});\nexport const DISCORD_AVATARS_CDN_BASE_URL = \"https://cdn.discordapp.com/avatars\";\nexport const DEFAULT_AVATAR_URL = \"https://cdn.discordapp.com/embed/avatars/0.png\";\nexport const BRANDED_DEFAULT_AVATAR_URL = \"/static/discord-avatar.png\";\nexport const DEFAULT_DISPLAY_NAME = \"Discohook\";\nexport const WEBHOOK_URL_RE = /^https?:\\/\\/(?:www\\.|ptb\\.|canary\\.)?discord(?:app)?\\.com\\/api(?:\\/v\\d+)?\\/webhooks\\/\\d+\\/[\\w-]+$/;\nexport const MESSAGE_REF_RE = /^(?:https:\\/\\/(?:www\\.|ptb\\.|canary\\.)?discord(?:app)?\\.com\\/channels\\/\\d+\\/\\d+\\/)?(\\d+)$/;","map":{"version":3,"sources":["F:/DiscordHookSite/modules/webhook/constants.ts"],"names":["DISCORD_API_BASE_URLS","getDiscordApiHost","firstError","url","fetch","URL","host","error","DISCORD_API_HOST_PROMISE","Promise","resolve","reject","then","catch","DISCORD_AVATARS_CDN_BASE_URL","DEFAULT_AVATAR_URL","BRANDED_DEFAULT_AVATAR_URL","DEFAULT_DISPLAY_NAME","WEBHOOK_URL_RE","MESSAGE_REF_RE"],"mappings":"AAAA,OAAO,MAAMA,qBAAqB,GAAG,CACnC,4BADmC,EAEnC,gCAFmC,EAGnC,mCAHmC,CAA9B;;AAMP,MAAMC,iBAAiB,GAAG,YAAY;AACpC,MAAIC,UAAJ;;AAEA,OAAK,MAAMC,GAAX,IAAkBH,qBAAlB,EAAyC;AACvC,QAAI;AACF;AACA,YAAMI,KAAK,CAAE,GAAED,GAAI,6BAAR,CAAX;AACA,aAAO,IAAIE,GAAJ,CAAQF,GAAR,EAAaG,IAApB;AACD,KAJD,CAIE,OAAOC,KAAP,EAAc;AACdL,MAAAA,UAAU,GAAGK,KAAb;AACD;AACF;;AAED,QAAML,UAAN;AACD,CAdD;;AAgBA,OAAO,MAAMM,wBAAwB,GAAG,IAAIC,OAAJ,CACtC,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACnBV,EAAAA,iBAAiB,GAAGW,IAApB,CAAyBF,OAAzB,EAAkCG,KAAlC,CAAwCF,MAAxC;AACD,CAHqC,CAAjC;AAMP,OAAO,MAAMG,4BAA4B,GAAG,oCAArC;AAEP,OAAO,MAAMC,kBAAkB,GAC7B,gDADK;AAEP,OAAO,MAAMC,0BAA0B,GAAG,4BAAnC;AACP,OAAO,MAAMC,oBAAoB,GAAG,WAA7B;AAEP,OAAO,MAAMC,cAAc,GAAG,mGAAvB;AAEP,OAAO,MAAMC,cAAc,GAAG,2FAAvB","sourcesContent":["export const DISCORD_API_BASE_URLS = [\r\n  \"https://discord.com/api/v8\",\r\n  \"https://ptb.discord.com/api/v8\",\r\n  \"https://canary.discord.com/api/v8\",\r\n]\r\n\r\nconst getDiscordApiHost = async () => {\r\n  let firstError\r\n\r\n  for (const url of DISCORD_API_BASE_URLS) {\r\n    try {\r\n      // eslint-disable-next-line no-await-in-loop\r\n      await fetch(`${url}/invites/discord-developers`)\r\n      return new URL(url).host\r\n    } catch (error) {\r\n      firstError = error\r\n    }\r\n  }\r\n\r\n  throw firstError\r\n}\r\n\r\nexport const DISCORD_API_HOST_PROMISE = new Promise<string>(\r\n  (resolve, reject) => {\r\n    getDiscordApiHost().then(resolve).catch(reject)\r\n  },\r\n)\r\n\r\nexport const DISCORD_AVATARS_CDN_BASE_URL = \"https://cdn.discordapp.com/avatars\"\r\n\r\nexport const DEFAULT_AVATAR_URL =\r\n  \"https://cdn.discordapp.com/embed/avatars/0.png\"\r\nexport const BRANDED_DEFAULT_AVATAR_URL = \"/static/discord-avatar.png\"\r\nexport const DEFAULT_DISPLAY_NAME = \"Discohook\"\r\n\r\nexport const WEBHOOK_URL_RE = /^https?:\\/\\/(?:www\\.|ptb\\.|canary\\.)?discord(?:app)?\\.com\\/api(?:\\/v\\d+)?\\/webhooks\\/\\d+\\/[\\w-]+$/\r\n\r\nexport const MESSAGE_REF_RE = /^(?:https:\\/\\/(?:www\\.|ptb\\.|canary\\.)?discord(?:app)?\\.com\\/channels\\/\\d+\\/\\d+\\/)?(\\d+)$/\r\n"]},"metadata":{},"sourceType":"module"}
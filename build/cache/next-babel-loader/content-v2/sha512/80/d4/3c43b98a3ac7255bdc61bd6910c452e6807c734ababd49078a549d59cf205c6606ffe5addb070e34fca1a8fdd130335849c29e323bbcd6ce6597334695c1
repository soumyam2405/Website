{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"F:\\\\DiscordHookSite\\\\modules\\\\message\\\\preview\\\\MessageHeader.tsx\",\n    _s = $RefreshSig$();\n\nimport { useObserver } from \"mobx-react-lite\";\nimport dynamic from \"next/dynamic\";\nimport { em, rem, size } from \"polished\";\nimport React, { useContext } from \"react\";\nimport styled, { css, useTheme } from \"styled-components\";\nimport { SCREEN_SMALL } from \"../../../common/layout/breakpoints\";\nimport { DARK_THEME } from \"../../../common/theming/darkTheme\";\nimport { EditorManagerContext } from \"../../editor/EditorManagerContext\";\nconst Clock = dynamic(_c = async () => import(\"./Clock\").then(module => module.Clock), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak(\"./Clock\")],\n    modules: [\"./Clock\"]\n  }\n});\n_c2 = Clock;\nconst Container = styled.div.withConfig({\n  displayName: \"MessageHeader__Container\",\n  componentId: \"sgp62q-0\"\n})([\"\", \";\", \";\"], ({\n  theme\n}) => theme.appearance.display === \"cozy\" && css([\"position:relative;margin-left:\", \";padding-left:\", \";\", \";\"], rem(-72), rem(72), ({\n  theme\n}) => theme.appearance.fontSize > 16 && css([\"margin-left:-72px;padding-left:72px;\"])), ({\n  theme\n}) => theme.appearance.display === \"compact\" && css([\"display:inline;display:contents;\"]));\n_c3 = Container;\nconst Avatar = styled.img.withConfig({\n  displayName: \"MessageHeader__Avatar\",\n  componentId: \"sgp62q-1\"\n})([\"\", \";position:absolute;left:0;top:\", \";margin:0 \", \";border-radius:50%;object-fit:cover;cursor:pointer;&:hover{box-shadow:\", \";}&:active{transform:translateY(1px);}\", \";\", \"{display:none;}\"], size(rem(40)), rem(2), rem(16), ({\n  theme\n}) => theme.elavation.medium, ({\n  theme\n}) => theme.appearance.fontSize > 16 && css([\"\", \";margin:0 16px;\"], size(40)), SCREEN_SMALL);\n_c4 = Avatar;\nconst Username = styled.h1.withConfig({\n  displayName: \"MessageHeader__Username\",\n  componentId: \"sgp62q-2\"\n})([\"display:inline;vertical-align:baseline;margin:0 \", \" 0 0;color:\", \";font-size:\", \";font-weight:500;line-height:\", \";word-wrap:break-word;cursor:pointer;\", \";\", \";\"], rem(4), ({\n  theme\n}) => theme.header.primary, rem(16), rem(22), ({\n  theme\n}) => theme.appearance.display === \"compact\" && css([\"margin-right:\", \";\"], rem(8)), ({\n  theme\n}) => theme.appearance.color === \"light\" && css([\"font-weight:600;\"]));\n_c5 = Username;\nconst BotTag = styled.span.withConfig({\n  displayName: \"MessageHeader__BotTag\",\n  componentId: \"sgp62q-3\"\n})([\"position:relative;top:\", \";min-height:\", \";max-height:\", \";margin:\", \" \", \" 0 0;padding:\", \" \", \";border-radius:3px;background:\", \";color:\", \";font-size:\", \";font-weight:500;line-height:1.3;vertical-align:baseline;text-transform:uppercase;\"], rem(-1.6), em(20.4), em(20.4), em(1.2), rem(4), rem(1.15), rem(4.4), ({\n  theme\n}) => theme.discord.primary, DARK_THEME.header.primary, em(10));\n_c6 = BotTag;\nexport function MessageHeader(props) {\n  _s();\n\n  const {\n    timestamp,\n    badge\n  } = props;\n  let {\n    username,\n    avatarUrl\n  } = props;\n  const theme = useTheme();\n  const editorManager = useContext(EditorManagerContext);\n  return useObserver(() => {\n    if (editorManager && editorManager.targets.length > 0) {\n      if (!username) username = editorManager.targets[0].displayName;\n      if (!avatarUrl) avatarUrl = editorManager.targets[0].displayAvatarUrl;\n    }\n\n    let info = [/*#__PURE__*/_jsxDEV(Username, {\n      children: username\n    }, \"username\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), badge !== null && /*#__PURE__*/_jsxDEV(BotTag, {\n      children: badge !== null && badge !== void 0 ? badge : \"Bot\"\n    }, \"badge\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(Clock, {\n      timestamp: timestamp\n    }, \"clock\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this)];\n    if (theme.appearance.display === \"compact\") info = info.reverse();\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: [theme.appearance.display === \"cozy\" && /*#__PURE__*/_jsxDEV(Avatar, {\n        src: avatarUrl,\n        alt: \"User avatar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }, this), info]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this);\n  });\n}\n\n_s(MessageHeader, \"uQ0+jWaa/e5nEgSWsLOV6kQ/mKg=\", false, function () {\n  return [useTheme, useObserver];\n});\n\n_c7 = MessageHeader;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"Clock$dynamic\");\n$RefreshReg$(_c2, \"Clock\");\n$RefreshReg$(_c3, \"Container\");\n$RefreshReg$(_c4, \"Avatar\");\n$RefreshReg$(_c5, \"Username\");\n$RefreshReg$(_c6, \"BotTag\");\n$RefreshReg$(_c7, \"MessageHeader\");","map":{"version":3,"sources":["F:/DiscordHookSite/modules/message/preview/MessageHeader.tsx"],"names":["useObserver","dynamic","em","rem","size","React","useContext","styled","css","useTheme","SCREEN_SMALL","DARK_THEME","EditorManagerContext","Clock","then","module","ssr","Container","div","theme","appearance","display","fontSize","Avatar","img","elavation","medium","Username","h1","header","primary","color","BotTag","span","discord","MessageHeader","props","timestamp","badge","username","avatarUrl","editorManager","targets","length","displayName","displayAvatarUrl","info","reverse"],"mappings":";;;;;AAAA,SAASA,WAAT,QAA4B,iBAA5B;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,SAASC,EAAT,EAAaC,GAAb,EAAkBC,IAAlB,QAA8B,UAA9B;AACA,OAAOC,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,MAAP,IAAiBC,GAAjB,EAAsBC,QAAtB,QAAsC,mBAAtC;AACA,SAASC,YAAT,QAA6B,oCAA7B;AACA,SAASC,UAAT,QAA2B,mCAA3B;AACA,SAASC,oBAAT,QAAqC,mCAArC;AAGA,MAAMC,KAAK,GAAGZ,OAAO,MACnB,YAAY,OAAO,SAAP,EAAkBa,IAAlB,CAAuBC,MAAM,IAAIA,MAAM,CAACF,KAAxC,CADO,EAEnB;AAAEG,EAAAA,GAAG,EAAE,KAAP;AAAA;AAAA,wCADmB,SACnB;AAAA,cADmB,SACnB;AAAA;AAAA,CAFmB,CAArB;MAAMH,K;AAKN,MAAMI,SAAS,GAAGV,MAAM,CAACW,GAAV;AAAA;AAAA;AAAA,mBACX,CAAC;AAAEC,EAAAA;AAAF,CAAD,KACAA,KAAK,CAACC,UAAN,CAAiBC,OAAjB,KAA6B,MAA7B,IACAb,GADA,iEAIiBL,GAAG,CAAC,CAAC,EAAF,CAJpB,EAKkBA,GAAG,CAAC,EAAD,CALrB,EAOI,CAAC;AAAEgB,EAAAA;AAAF,CAAD,KACAA,KAAK,CAACC,UAAN,CAAiBE,QAAjB,GAA4B,EAA5B,IACAd,GADA,0CARJ,CAFW,EAiBX,CAAC;AAAEW,EAAAA;AAAF,CAAD,KACAA,KAAK,CAACC,UAAN,CAAiBC,OAAjB,KAA6B,SAA7B,IACAb,GADA,sCAlBW,CAAf;MAAMS,S;AAyBN,MAAMM,MAAM,GAAGhB,MAAM,CAACiB,GAAV;AAAA;AAAA;AAAA,qMACRpB,IAAI,CAACD,GAAG,CAAC,EAAD,CAAJ,CADI,EAKHA,GAAG,CAAC,CAAD,CALA,EAOEA,GAAG,CAAC,EAAD,CAPL,EAeM,CAAC;AAAEgB,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACM,SAAN,CAAgBC,MAfrC,EAsBR,CAAC;AAAEP,EAAAA;AAAF,CAAD,KACAA,KAAK,CAACC,UAAN,CAAiBE,QAAjB,GAA4B,EAA5B,IACAd,GADA,0BAEIJ,IAAI,CAAC,EAAD,CAFR,CAvBQ,EA8BRM,YA9BQ,CAAZ;MAAMa,M;AAmCN,MAAMI,QAAQ,GAAGpB,MAAM,CAACqB,EAAV;AAAA;AAAA;AAAA,2KAIAzB,GAAG,CAAC,CAAD,CAJH,EAMH,CAAC;AAAEgB,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACU,MAAN,CAAaC,OANzB,EAOC3B,GAAG,CAAC,EAAD,CAPJ,EASGA,GAAG,CAAC,EAAD,CATN,EAeV,CAAC;AAAEgB,EAAAA;AAAF,CAAD,KACAA,KAAK,CAACC,UAAN,CAAiBC,OAAjB,KAA6B,SAA7B,IACAb,GADA,yBAEkBL,GAAG,CAAC,CAAD,CAFrB,CAhBU,EAqBV,CAAC;AAAEgB,EAAAA;AAAF,CAAD,KACAA,KAAK,CAACC,UAAN,CAAiBW,KAAjB,KAA2B,OAA3B,IACAvB,GADA,sBAtBU,CAAd;MAAMmB,Q;AA4BN,MAAMK,MAAM,GAAGzB,MAAM,CAAC0B,IAAV;AAAA;AAAA;AAAA,wPAEH9B,GAAG,CAAC,CAAC,GAAF,CAFA,EAIID,EAAE,CAAC,IAAD,CAJN,EAKIA,EAAE,CAAC,IAAD,CALN,EAOAA,EAAE,CAAC,GAAD,CAPF,EAOWC,GAAG,CAAC,CAAD,CAPd,EAQCA,GAAG,CAAC,IAAD,CARJ,EAQcA,GAAG,CAAC,GAAD,CARjB,EAWI,CAAC;AAAEgB,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACe,OAAN,CAAcJ,OAXjC,EAaDnB,UAAU,CAACkB,MAAX,CAAkBC,OAbjB,EAcG5B,EAAE,CAAC,EAAD,CAdL,CAAZ;MAAM8B,M;AA6BN,OAAO,SAASG,aAAT,CAAuBC,KAAvB,EAAkD;AAAA;;AACvD,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAAuBF,KAA7B;AACA,MAAI;AAAEG,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAA0BJ,KAA9B;AAEA,QAAMjB,KAAK,GAAGV,QAAQ,EAAtB;AAEA,QAAMgC,aAAa,GAAGnC,UAAU,CAACM,oBAAD,CAAhC;AAEA,SAAOZ,WAAW,CAAC,MAAM;AACvB,QAAIyC,aAAa,IAAIA,aAAa,CAACC,OAAd,CAAsBC,MAAtB,GAA+B,CAApD,EAAuD;AACrD,UAAI,CAACJ,QAAL,EAAeA,QAAQ,GAAGE,aAAa,CAACC,OAAd,CAAsB,CAAtB,EAAyBE,WAApC;AACf,UAAI,CAACJ,SAAL,EAAgBA,SAAS,GAAGC,aAAa,CAACC,OAAd,CAAsB,CAAtB,EAAyBG,gBAArC;AACjB;;AAED,QAAIC,IAAI,GAAG,cACT,QAAC,QAAD;AAAA,gBAA0BP;AAA1B,OAAc,UAAd;AAAA;AAAA;AAAA;AAAA,YADS,EAETD,KAAK,KAAK,IAAV,iBAAkB,QAAC,MAAD;AAAA,gBAAqBA,KAArB,aAAqBA,KAArB,cAAqBA,KAArB,GAA8B;AAA9B,OAAY,OAAZ;AAAA;AAAA;AAAA;AAAA,YAFT,eAGT,QAAC,KAAD;AAAmB,MAAA,SAAS,EAAED;AAA9B,OAAW,OAAX;AAAA;AAAA;AAAA;AAAA,YAHS,CAAX;AAMA,QAAIlB,KAAK,CAACC,UAAN,CAAiBC,OAAjB,KAA6B,SAAjC,EAA4CyB,IAAI,GAAGA,IAAI,CAACC,OAAL,EAAP;AAE5C,wBACE,QAAC,SAAD;AAAA,iBACG5B,KAAK,CAACC,UAAN,CAAiBC,OAAjB,KAA6B,MAA7B,iBACC,QAAC,MAAD;AAAQ,QAAA,GAAG,EAAEmB,SAAb;AAAwB,QAAA,GAAG,EAAC;AAA5B;AAAA;AAAA;AAAA;AAAA,cAFJ,EAIGM,IAJH;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAQD,GAtBiB,CAAlB;AAuBD;;GA/BeX,a;UAIA1B,Q,EAIPT,W;;;MAROmC,a","sourcesContent":["import { useObserver } from \"mobx-react-lite\"\r\nimport dynamic from \"next/dynamic\"\r\nimport { em, rem, size } from \"polished\"\r\nimport React, { useContext } from \"react\"\r\nimport styled, { css, useTheme } from \"styled-components\"\r\nimport { SCREEN_SMALL } from \"../../../common/layout/breakpoints\"\r\nimport { DARK_THEME } from \"../../../common/theming/darkTheme\"\r\nimport { EditorManagerContext } from \"../../editor/EditorManagerContext\"\r\nimport type { ClockProps } from \"./Clock\"\r\n\r\nconst Clock = dynamic<ClockProps>(\r\n  async () => import(\"./Clock\").then(module => module.Clock),\r\n  { ssr: false },\r\n)\r\n\r\nconst Container = styled.div`\r\n  ${({ theme }) =>\r\n    theme.appearance.display === \"cozy\" &&\r\n    css`\r\n      position: relative;\r\n\r\n      margin-left: ${rem(-72)};\r\n      padding-left: ${rem(72)};\r\n\r\n      ${({ theme }) =>\r\n        theme.appearance.fontSize > 16 &&\r\n        css`\r\n          margin-left: -72px;\r\n          padding-left: 72px;\r\n        `};\r\n    `};\r\n\r\n  ${({ theme }) =>\r\n    theme.appearance.display === \"compact\" &&\r\n    css`\r\n      display: inline;\r\n      display: contents;\r\n    `};\r\n`\r\n\r\nconst Avatar = styled.img`\r\n  ${size(rem(40))};\r\n\r\n  position: absolute;\r\n  left: 0;\r\n  top: ${rem(2)};\r\n\r\n  margin: 0 ${rem(16)};\r\n\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    box-shadow: ${({ theme }) => theme.elavation.medium};\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(1px);\r\n  }\r\n\r\n  ${({ theme }) =>\r\n    theme.appearance.fontSize > 16 &&\r\n    css`\r\n      ${size(40)};\r\n\r\n      margin: 0 16px;\r\n    `};\r\n\r\n  ${SCREEN_SMALL} {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst Username = styled.h1`\r\n  display: inline;\r\n  vertical-align: baseline;\r\n\r\n  margin: 0 ${rem(4)} 0 0;\r\n\r\n  color: ${({ theme }) => theme.header.primary};\r\n  font-size: ${rem(16)};\r\n  font-weight: 500;\r\n  line-height: ${rem(22)};\r\n\r\n  word-wrap: break-word;\r\n\r\n  cursor: pointer;\r\n\r\n  ${({ theme }) =>\r\n    theme.appearance.display === \"compact\" &&\r\n    css`\r\n      margin-right: ${rem(8)};\r\n    `};\r\n\r\n  ${({ theme }) =>\r\n    theme.appearance.color === \"light\" &&\r\n    css`\r\n      font-weight: 600;\r\n    `};\r\n`\r\n\r\nconst BotTag = styled.span`\r\n  position: relative;\r\n  top: ${rem(-1.6)};\r\n\r\n  min-height: ${em(20.4)};\r\n  max-height: ${em(20.4)};\r\n\r\n  margin: ${em(1.2)} ${rem(4)} 0 0;\r\n  padding: ${rem(1.15)} ${rem(4.4)};\r\n\r\n  border-radius: 3px;\r\n  background: ${({ theme }) => theme.discord.primary};\r\n\r\n  color: ${DARK_THEME.header.primary};\r\n  font-size: ${em(10)};\r\n  font-weight: 500;\r\n  line-height: 1.3;\r\n  vertical-align: baseline;\r\n\r\n  text-transform: uppercase;\r\n`\r\n\r\nexport type MessageHeaderProps = {\r\n  username?: string\r\n  avatarUrl?: string\r\n  timestamp?: Date\r\n  badge?: string | null\r\n}\r\n\r\nexport function MessageHeader(props: MessageHeaderProps) {\r\n  const { timestamp, badge } = props\r\n  let { username, avatarUrl } = props\r\n\r\n  const theme = useTheme()\r\n\r\n  const editorManager = useContext(EditorManagerContext)\r\n\r\n  return useObserver(() => {\r\n    if (editorManager && editorManager.targets.length > 0) {\r\n      if (!username) username = editorManager.targets[0].displayName\r\n      if (!avatarUrl) avatarUrl = editorManager.targets[0].displayAvatarUrl\r\n    }\r\n\r\n    let info = [\r\n      <Username key=\"username\">{username}</Username>,\r\n      badge !== null && <BotTag key=\"badge\">{badge ?? \"Bot\"}</BotTag>,\r\n      <Clock key=\"clock\" timestamp={timestamp} />,\r\n    ]\r\n\r\n    if (theme.appearance.display === \"compact\") info = info.reverse()\r\n\r\n    return (\r\n      <Container>\r\n        {theme.appearance.display === \"cozy\" && (\r\n          <Avatar src={avatarUrl} alt=\"User avatar\" />\r\n        )}\r\n        {info}\r\n      </Container>\r\n    )\r\n  })\r\n}\r\n"]},"metadata":{},"sourceType":"module"}